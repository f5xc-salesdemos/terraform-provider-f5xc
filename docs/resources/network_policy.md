---
page_title: "f5xc_network_policy Resource - terraform-provider-f5xc"
subcategory: ""
description: |-
  Creates a new network policy with configured parameters in specified namespace
---

# f5xc_network_policy (Resource)

Creates a new network policy with configured parameters in specified namespace

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
resource "f5xc_network_policy" "example" {
  name      = "example"
  namespace = "system"

  labels = {
    "env" = "production"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the NetworkPolicy. Must be unique within the namespace.
- `namespace` (String) Namespace where the NetworkPolicy will be created.

### Optional

- `annotations` (Map of String) Annotations to apply to this resource.
- `endpoint` (Block, Optional) Endpoint Choice. Shape of the endpoint choices for a view (see [below for nested schema](#nestedblock--endpoint))
- `labels` (Map of String) Labels to apply to this resource.
- `rules` (Block, Optional) Rule Choice. Shape of Rule Choice (see [below for nested schema](#nestedblock--rules))

### Read-Only

- `id` (String) Unique identifier for the resource.

<a id="nestedblock--endpoint"></a>
### Nested Schema for `endpoint`

Optional:

- `any` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--endpoint--any))
- `inside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--endpoint--inside_endpoints))
- `label_selector` (Block, Optional) Label Selector. This type can be used to establish a 'selector reference' from one object(called selector) to a set of other objects(called selectees) based on the value of expresssions. A label selector is a label query over a set of resources. An empty label selector matches all objects. A null label selector matches no objects. Label selector is immutable. expressions is a list of strings of label selection expression. Each string has ',' separated values which are 'AND' and all strings ar... (see [below for nested schema](#nestedblock--endpoint--label_selector))
- `outside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--endpoint--outside_endpoints))
- `prefix_list` (Block, Optional) IPv4 Prefix List. x-example: '192.168.20.0/24' List of IPv4 prefixes that represent an endpoint (see [below for nested schema](#nestedblock--endpoint--prefix_list))

<a id="nestedblock--endpoint--any"></a>
### Nested Schema for `endpoint.any`


<a id="nestedblock--endpoint--inside_endpoints"></a>
### Nested Schema for `endpoint.inside_endpoints`


<a id="nestedblock--endpoint--label_selector"></a>
### Nested Schema for `endpoint.label_selector`

Optional:

- `expressions` (List of String) Selector Expression. expressions contains the kubernetes style label expression for selections. Required: YES ves.io.schema.rules.message.required: true ves.io.schema.rules.repeated.items.string.k8s_label_selector: true ves.io.schema.rules.repeated.items.string.max_len: 4096 ves.io.schema.rules.repeated.items.string.min_len: 1 ves.io.schema.rules.repeated.max_items: 1


<a id="nestedblock--endpoint--outside_endpoints"></a>
### Nested Schema for `endpoint.outside_endpoints`


<a id="nestedblock--endpoint--prefix_list"></a>
### Nested Schema for `endpoint.prefix_list`

Optional:

- `prefixes` (List of String) IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint ves.io.schema.rules.repeated.items.string.ipv4_prefix: true ves.io.schema.rules.repeated.max_items: 128 ves.io.schema.rules.repeated.unique: true



<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Optional:

- `egress_rules` (Block List) Egress Rules. Ordered list of rules applied to connections from policy endpoints. ves.io.schema.rules.repeated.max_items: 128 ves.io.schema.rules.repeated.unique_metadata_name: true (see [below for nested schema](#nestedblock--rules--egress_rules))
- `ingress_rules` (Block List) Ingress Rules. Ordered list of rules applied to connections to policy endpoints. ves.io.schema.rules.repeated.max_items: 128 ves.io.schema.rules.repeated.unique_metadata_name: true (see [below for nested schema](#nestedblock--rules--ingress_rules))

<a id="nestedblock--rules--egress_rules"></a>
### Nested Schema for `rules.egress_rules`

Optional:

- `action` (String) Network Policy Rule Action. Network policy rule action configures the action to be taken on rule match Apply deny action on rule match Apply allow action on rule match
- `adv_action` (Block, Optional) Network Policy Rule Advanced Action. Network Policy Rule Advanced Action provides additional options along with RuleAction and PBRRuleAction (see [below for nested schema](#nestedblock--rules--egress_rules--adv_action))
- `all_tcp_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--all_tcp_traffic))
- `all_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--all_traffic))
- `all_udp_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--all_udp_traffic))
- `any` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--any))
- `applications` (Block, Optional) Applications. Application protocols like HTTP, SNMP (see [below for nested schema](#nestedblock--rules--egress_rules--applications))
- `inside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--inside_endpoints))
- `ip_prefix_set` (Block, Optional) IP Prefix Set Reference. A list of references to ip_prefix_set objects. (see [below for nested schema](#nestedblock--rules--egress_rules--ip_prefix_set))
- `label_matcher` (Block, Optional) Label Matcher. A label matcher specifies a list of label keys whose values need to match for source/client and destination/server. Note that the actual label values are not specified and do not matter. This allows an ability to scope grouping by the label key name. (see [below for nested schema](#nestedblock--rules--egress_rules--label_matcher))
- `label_selector` (Block, Optional) Label Selector. This type can be used to establish a 'selector reference' from one object(called selector) to a set of other objects(called selectees) based on the value of expresssions. A label selector is a label query over a set of resources. An empty label selector matches all objects. A null label selector matches no objects. Label selector is immutable. expressions is a list of strings of label selection expression. Each string has ',' separated values which are 'AND' and all strings ar... (see [below for nested schema](#nestedblock--rules--egress_rules--label_selector))
- `metadata` (Block, Optional) Message Metadata. MessageMetaType is metadata (common attributes) of a message that only certain messages have. This information is propagated to the metadata of a child object that gets created from the containing message during view processing. The information in this type can be specified by user during create and replace APIs. (see [below for nested schema](#nestedblock--rules--egress_rules--metadata))
- `outside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--egress_rules--outside_endpoints))
- `prefix_list` (Block, Optional) IPv4 Prefix List. x-example: '192.168.20.0/24' List of IPv4 prefixes that represent an endpoint (see [below for nested schema](#nestedblock--rules--egress_rules--prefix_list))
- `protocol_port_range` (Block, Optional) Protocol and Port. Protocol and Port ranges (see [below for nested schema](#nestedblock--rules--egress_rules--protocol_port_range))

<a id="nestedblock--rules--egress_rules--adv_action"></a>
### Nested Schema for `rules.egress_rules.adv_action`

Optional:

- `action` (String) Log Action. Choice to choose logging or no logging This works together with option selected via NetworkPolicyRuleAction or any other action specified x-example: (No Selection in NetworkPolicyRuleAction + AdvancedAction as LOG) = LOG Only, (ALLOW/DENY in NetworkPolicyRuleAction + AdvancedAction as LOG) = Log and Allow/Deny, (ALLOW/DENY in NetworkPolicyRuleAction + NOLOG in AdvancedAction) = Allow/Deny with no log Don't sample the traffic hitting the rule Sample the traffic hitting the rule


<a id="nestedblock--rules--egress_rules--all_tcp_traffic"></a>
### Nested Schema for `rules.egress_rules.all_tcp_traffic`


<a id="nestedblock--rules--egress_rules--all_traffic"></a>
### Nested Schema for `rules.egress_rules.all_traffic`


<a id="nestedblock--rules--egress_rules--all_udp_traffic"></a>
### Nested Schema for `rules.egress_rules.all_udp_traffic`


<a id="nestedblock--rules--egress_rules--any"></a>
### Nested Schema for `rules.egress_rules.any`


<a id="nestedblock--rules--egress_rules--applications"></a>
### Nested Schema for `rules.egress_rules.applications`

Optional:

- `applications` (List of String) Application Protocols. Application protocols like HTTP, SNMP


<a id="nestedblock--rules--egress_rules--inside_endpoints"></a>
### Nested Schema for `rules.egress_rules.inside_endpoints`


<a id="nestedblock--rules--egress_rules--ip_prefix_set"></a>
### Nested Schema for `rules.egress_rules.ip_prefix_set`

Optional:

- `ref` (Block List) Reference. A list of references to ip_prefix_set objects. ves.io.schema.rules.repeated.max_items: 1 (see [below for nested schema](#nestedblock--rules--egress_rules--ip_prefix_set--ref))

<a id="nestedblock--rules--egress_rules--ip_prefix_set--ref"></a>
### Nested Schema for `rules.egress_rules.ip_prefix_set.ref`



<a id="nestedblock--rules--egress_rules--label_matcher"></a>
### Nested Schema for `rules.egress_rules.label_matcher`

Optional:

- `keys` (List of String) Keys. The list of label key names that have to match ves.io.schema.rules.repeated.items.string.max_len: 64 ves.io.schema.rules.repeated.items.string.min_len: 1 ves.io.schema.rules.repeated.max_items: 16 ves.io.schema.rules.repeated.unique: true


<a id="nestedblock--rules--egress_rules--label_selector"></a>
### Nested Schema for `rules.egress_rules.label_selector`

Optional:

- `expressions` (List of String) Selector Expression. expressions contains the kubernetes style label expression for selections. Required: YES ves.io.schema.rules.message.required: true ves.io.schema.rules.repeated.items.string.k8s_label_selector: true ves.io.schema.rules.repeated.items.string.max_len: 4096 ves.io.schema.rules.repeated.items.string.min_len: 1 ves.io.schema.rules.repeated.max_items: 1


<a id="nestedblock--rules--egress_rules--metadata"></a>
### Nested Schema for `rules.egress_rules.metadata`

Optional:

- `description` (String) Description. Human readable description. ves.io.schema.rules.string.max_len: 256
- `name` (String) Name. This is the name of the message. The value of name has to follow DNS-1035 format. Required: YES ves.io.schema.rules.message.required: true ves.io.schema.rules.string.min_len: 1 ves.io.schema.rules.string.ves_object_name: true


<a id="nestedblock--rules--egress_rules--outside_endpoints"></a>
### Nested Schema for `rules.egress_rules.outside_endpoints`


<a id="nestedblock--rules--egress_rules--prefix_list"></a>
### Nested Schema for `rules.egress_rules.prefix_list`

Optional:

- `prefixes` (List of String) IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint ves.io.schema.rules.repeated.items.string.ipv4_prefix: true ves.io.schema.rules.repeated.max_items: 128 ves.io.schema.rules.repeated.unique: true


<a id="nestedblock--rules--egress_rules--protocol_port_range"></a>
### Nested Schema for `rules.egress_rules.protocol_port_range`

Optional:

- `port_ranges` (List of String) List of Port Ranges. List of port ranges. Each range is a single port or a pair of start and end ports e.g. 8080-8192 ves.io.schema.rules.repeated.items.string.port_range: true ves.io.schema.rules.repeated.max_items: 128
- `protocol` (String) Protocol. Protocol in IP packet to be used as match criteria Values are tcp, udp, and icmp



<a id="nestedblock--rules--ingress_rules"></a>
### Nested Schema for `rules.ingress_rules`

Optional:

- `action` (String) Network Policy Rule Action. Network policy rule action configures the action to be taken on rule match Apply deny action on rule match Apply allow action on rule match
- `adv_action` (Block, Optional) Network Policy Rule Advanced Action. Network Policy Rule Advanced Action provides additional options along with RuleAction and PBRRuleAction (see [below for nested schema](#nestedblock--rules--ingress_rules--adv_action))
- `all_tcp_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--all_tcp_traffic))
- `all_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--all_traffic))
- `all_udp_traffic` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--all_udp_traffic))
- `any` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--any))
- `applications` (Block, Optional) Applications. Application protocols like HTTP, SNMP (see [below for nested schema](#nestedblock--rules--ingress_rules--applications))
- `inside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--inside_endpoints))
- `ip_prefix_set` (Block, Optional) IP Prefix Set Reference. A list of references to ip_prefix_set objects. (see [below for nested schema](#nestedblock--rules--ingress_rules--ip_prefix_set))
- `label_matcher` (Block, Optional) Label Matcher. A label matcher specifies a list of label keys whose values need to match for source/client and destination/server. Note that the actual label values are not specified and do not matter. This allows an ability to scope grouping by the label key name. (see [below for nested schema](#nestedblock--rules--ingress_rules--label_matcher))
- `label_selector` (Block, Optional) Label Selector. This type can be used to establish a 'selector reference' from one object(called selector) to a set of other objects(called selectees) based on the value of expresssions. A label selector is a label query over a set of resources. An empty label selector matches all objects. A null label selector matches no objects. Label selector is immutable. expressions is a list of strings of label selection expression. Each string has ',' separated values which are 'AND' and all strings ar... (see [below for nested schema](#nestedblock--rules--ingress_rules--label_selector))
- `metadata` (Block, Optional) Message Metadata. MessageMetaType is metadata (common attributes) of a message that only certain messages have. This information is propagated to the metadata of a child object that gets created from the containing message during view processing. The information in this type can be specified by user during create and replace APIs. (see [below for nested schema](#nestedblock--rules--ingress_rules--metadata))
- `outside_endpoints` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--ingress_rules--outside_endpoints))
- `prefix_list` (Block, Optional) IPv4 Prefix List. x-example: '192.168.20.0/24' List of IPv4 prefixes that represent an endpoint (see [below for nested schema](#nestedblock--rules--ingress_rules--prefix_list))
- `protocol_port_range` (Block, Optional) Protocol and Port. Protocol and Port ranges (see [below for nested schema](#nestedblock--rules--ingress_rules--protocol_port_range))

<a id="nestedblock--rules--ingress_rules--adv_action"></a>
### Nested Schema for `rules.ingress_rules.adv_action`

Optional:

- `action` (String) Log Action. Choice to choose logging or no logging This works together with option selected via NetworkPolicyRuleAction or any other action specified x-example: (No Selection in NetworkPolicyRuleAction + AdvancedAction as LOG) = LOG Only, (ALLOW/DENY in NetworkPolicyRuleAction + AdvancedAction as LOG) = Log and Allow/Deny, (ALLOW/DENY in NetworkPolicyRuleAction + NOLOG in AdvancedAction) = Allow/Deny with no log Don't sample the traffic hitting the rule Sample the traffic hitting the rule


<a id="nestedblock--rules--ingress_rules--all_tcp_traffic"></a>
### Nested Schema for `rules.ingress_rules.all_tcp_traffic`


<a id="nestedblock--rules--ingress_rules--all_traffic"></a>
### Nested Schema for `rules.ingress_rules.all_traffic`


<a id="nestedblock--rules--ingress_rules--all_udp_traffic"></a>
### Nested Schema for `rules.ingress_rules.all_udp_traffic`


<a id="nestedblock--rules--ingress_rules--any"></a>
### Nested Schema for `rules.ingress_rules.any`


<a id="nestedblock--rules--ingress_rules--applications"></a>
### Nested Schema for `rules.ingress_rules.applications`

Optional:

- `applications` (List of String) Application Protocols. Application protocols like HTTP, SNMP


<a id="nestedblock--rules--ingress_rules--inside_endpoints"></a>
### Nested Schema for `rules.ingress_rules.inside_endpoints`


<a id="nestedblock--rules--ingress_rules--ip_prefix_set"></a>
### Nested Schema for `rules.ingress_rules.ip_prefix_set`

Optional:

- `ref` (Block List) Reference. A list of references to ip_prefix_set objects. ves.io.schema.rules.repeated.max_items: 1 (see [below for nested schema](#nestedblock--rules--ingress_rules--ip_prefix_set--ref))

<a id="nestedblock--rules--ingress_rules--ip_prefix_set--ref"></a>
### Nested Schema for `rules.ingress_rules.ip_prefix_set.ref`



<a id="nestedblock--rules--ingress_rules--label_matcher"></a>
### Nested Schema for `rules.ingress_rules.label_matcher`

Optional:

- `keys` (List of String) Keys. The list of label key names that have to match ves.io.schema.rules.repeated.items.string.max_len: 64 ves.io.schema.rules.repeated.items.string.min_len: 1 ves.io.schema.rules.repeated.max_items: 16 ves.io.schema.rules.repeated.unique: true


<a id="nestedblock--rules--ingress_rules--label_selector"></a>
### Nested Schema for `rules.ingress_rules.label_selector`

Optional:

- `expressions` (List of String) Selector Expression. expressions contains the kubernetes style label expression for selections. Required: YES ves.io.schema.rules.message.required: true ves.io.schema.rules.repeated.items.string.k8s_label_selector: true ves.io.schema.rules.repeated.items.string.max_len: 4096 ves.io.schema.rules.repeated.items.string.min_len: 1 ves.io.schema.rules.repeated.max_items: 1


<a id="nestedblock--rules--ingress_rules--metadata"></a>
### Nested Schema for `rules.ingress_rules.metadata`

Optional:

- `description` (String) Description. Human readable description. ves.io.schema.rules.string.max_len: 256
- `name` (String) Name. This is the name of the message. The value of name has to follow DNS-1035 format. Required: YES ves.io.schema.rules.message.required: true ves.io.schema.rules.string.min_len: 1 ves.io.schema.rules.string.ves_object_name: true


<a id="nestedblock--rules--ingress_rules--outside_endpoints"></a>
### Nested Schema for `rules.ingress_rules.outside_endpoints`


<a id="nestedblock--rules--ingress_rules--prefix_list"></a>
### Nested Schema for `rules.ingress_rules.prefix_list`

Optional:

- `prefixes` (List of String) IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint ves.io.schema.rules.repeated.items.string.ipv4_prefix: true ves.io.schema.rules.repeated.max_items: 128 ves.io.schema.rules.repeated.unique: true


<a id="nestedblock--rules--ingress_rules--protocol_port_range"></a>
### Nested Schema for `rules.ingress_rules.protocol_port_range`

Optional:

- `port_ranges` (List of String) List of Port Ranges. List of port ranges. Each range is a single port or a pair of start and end ports e.g. 8080-8192 ves.io.schema.rules.repeated.items.string.port_range: true ves.io.schema.rules.repeated.max_items: 128
- `protocol` (String) Protocol. Protocol in IP packet to be used as match criteria Values are tcp, udp, and icmp

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_network_policy.example system/example
```
