---
name: Enforce Repository Settings

on:
  schedule:
    - cron: '0 */6 * * *'
  push:
    branches: [main]
    paths:
      - '.github/config/**'
  workflow_dispatch:

permissions:
  contents: read

concurrency:
  group: enforce-repo-settings
  cancel-in-progress: true

jobs:
  enforce-settings:
    uses: f5xc-salesdemos/docs-control/.github/workflows/enforce-repo-settings.yml@main
    secrets:
      repo-settings-token: ${{ secrets.REPO_SETTINGS_TOKEN }}

  sync-files:
    uses: f5xc-salesdemos/docs-control/.github/workflows/sync-managed-files.yml@main
    secrets:
      repo-sync-token: ${{ secrets.REPO_SYNC_TOKEN }}
